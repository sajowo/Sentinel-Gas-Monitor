<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="MonitorGazuApp.MainWindow"
        Title="AirGuard Pro - System Monitoringu (M1)" Width="1000" Height="650"
        Background="#E5E5E5" CanResize="False" WindowStartupLocation="CenterScreen">

    <Grid>
        <Grid ColumnDefinitions="360, *">
            
            <Border Grid.Column="0" Background="White" Margin="15" CornerRadius="15" BoxShadow="0 4 15 0 #CCC">
                <StackPanel Margin="25" Spacing="20">
                    <TextBlock Text="PANEL OPERATORA" FontWeight="Bold" FontSize="22" 
                               HorizontalAlignment="Center" Foreground="#333"/>

                    <Border Background="#F9F9F9" CornerRadius="12" Padding="20">
                        <StackPanel>
                            <TextBlock Text="Aktualne StÄ™Å¼enie (S1):" Foreground="Gray" HorizontalAlignment="Center"/>
                            <TextBlock Name="LblWynik" Text="---" FontSize="64" FontWeight="Bold" 
                                       Foreground="#FFA500" HorizontalAlignment="Center"/>
                            <TextBlock Name="LblStatus" Text="Oczekiwanie..." FontSize="18" 
                                       Foreground="#555" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                        </StackPanel>
                    </Border>
                    
                    <ProgressBar Name="PasekGazu" Minimum="0" Maximum="250" Height="20" 
                                 Foreground="#007ACC" Background="#E0E0E0" CornerRadius="10"/>

                    <Border Background="#F0F0F0" Padding="15" CornerRadius="8">
                        <StackPanel>
                            <TextBlock Text="Wybrany Sensor (X, Y):" FontWeight="Bold" FontSize="12" Margin="0,0,0,8"/>
                            <Grid ColumnDefinitions="*,*,Auto">
                                <TextBox Name="TxtX" Grid.Column="0" Watermark="X" Margin="0,0,5,0"/>
                                <TextBox Name="TxtY" Grid.Column="1" Watermark="Y" Margin="0,0,5,0"/>
                                <Button Name="BtnUstaw" Grid.Column="2" Content="PrzesuÅ„" Background="#6C757D" Foreground="White"/>
                            </Grid>
                            <TextBlock Text="â„¹ï¸ Dwuklik = Dodaj | Przytrzymaj = PrzesuÅ„" FontSize="11" Foreground="#007ACC" Margin="0,5,0,0" FontStyle="Italic"/>
                        </StackPanel>
                    </Border>

                    <Button Name="BtnOtworzPolaczenie" Content="ðŸ“¡ ZnajdÅº urzÄ…dzenia IoT" 
                            HorizontalAlignment="Stretch" HorizontalContentAlignment="Center" 
                            Background="#007ACC" Foreground="White" Padding="12" FontSize="16" FontWeight="Bold"/>
                    
                    <Grid ColumnDefinitions="*,*">
                        <Button Name="BtnSymulacja" Grid.Column="0" Content="â–¶ START Demo" 
                                Background="#28a745" Foreground="White" HorizontalContentAlignment="Center" Margin="0,0,8,0"/>
                        <Button Name="BtnStop" Grid.Column="1" Content="â¹ STOP" 
                                Background="#dc3545" Foreground="White" HorizontalContentAlignment="Center"/>
                    </Grid>

                    <TextBlock Text="Dziennik zdarzeÅ„:" FontSize="14" FontWeight="Bold" Margin="0,10,0,0"/>
                    <Border BorderBrush="#BBB" BorderThickness="1" CornerRadius="5" Background="#FAFAFA" Height="100">
                        <ListBox Name="ListaHistorii" Background="Transparent">
                            <ListBox.Styles>
                                <Style Selector="ListBoxItem">
                                    <Setter Property="FontSize" Value="12"/>
                                    <Setter Property="Foreground" Value="Black"/> <Setter Property="Padding" Value="5"/>
                                </Style>
                            </ListBox.Styles>
                        </ListBox>
                    </Border>
                </StackPanel>
            </Border>

            <Border Grid.Column="1" Margin="15" Background="#1E1E1E" CornerRadius="15" BoxShadow="0 4 15 0 #000" ClipToBounds="True">
                <Canvas Name="MapaCanvas" Background="Transparent" Cursor="Cross">
                    <TextBlock Text="MAPA OBIEKTU (RZUT Z GÃ“RY)" Foreground="#888" Canvas.Left="20" Canvas.Top="20" FontWeight="Bold" FontSize="16"/>
                    
                    <Polygon Points="50,50 550,50 550,350 350,350 350,550 50,550"
                             Stroke="#007ACC" StrokeThickness="4" Fill="#252525"/>
                    
                    <TextBlock Text="SERWEROWNIA" Canvas.Left="70" Canvas.Top="80" Foreground="#555" FontSize="12" FontWeight="Bold"/>
                    <Rectangle Canvas.Left="60" Canvas.Top="60" Width="120" Height="80" Stroke="#444" StrokeDashArray="2,2"/>

                    <Ellipse Name="CzujnikGlowny" Width="30" Height="30" Fill="Orange" Stroke="White" StrokeThickness="3"
                             Canvas.Left="250" Canvas.Top="200"/>
                    <TextBlock Name="EtykietaGlowna" Text="S1" Foreground="White" FontWeight="Bold" Canvas.Left="255" Canvas.Top="235"/>
                </Canvas>
            </Border>
        </Grid>

        <Grid Name="Overlay" IsVisible="False" Background="#99000000">
            <Border Width="450" Height="380" Background="White" CornerRadius="20" BoxShadow="0 10 40 5 Black">
                <StackPanel Margin="30" Spacing="15" VerticalAlignment="Center">
                    <TextBlock Text="Wybierz urzÄ…dzenie IoT" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center" Foreground="Black"/>
                    <TextBlock Text="Wykryte czujniki w sieci WiFi/MQTT:" Foreground="Gray" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                    
                    <ListBox Name="ListaUrzadzen" Height="140" Background="#F2F2F2" CornerRadius="8">
                        <ListBox.Styles>
                            <Style Selector="ListBoxItem">
                                <Setter Property="Foreground" Value="Black"/> 
                                <Setter Property="FontSize" Value="14"/>
                                <Setter Property="Padding" Value="10"/>
                                <Setter Property="Margin" Value="0,2"/>
                            </Style>
                            
                            <Style Selector="ListBoxItem:pointerover /template/ ContentPresenter">
                                <Setter Property="Background" Value="#E0E0E0"/>
                            </Style>

                            <Style Selector="ListBoxItem:selected /template/ ContentPresenter">
                                <Setter Property="Background" Value="#007ACC"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Style>
                            <Style Selector="ListBoxItem:selected">
                                <Setter Property="Foreground" Value="White"/>
                            </Style>
                        </ListBox.Styles>
                    </ListBox>

                    <Button Name="BtnPotwierdzPolacz" Content="POÅÄ„CZ TERAZ" 
                            Background="#007ACC" Foreground="White" HorizontalAlignment="Stretch" 
                            HorizontalContentAlignment="Center" Padding="15" FontWeight="Bold" Margin="0,15,0,0" CornerRadius="8"/>
                    
                    <Button Name="BtnAnuluj" Content="Anuluj" Background="Transparent" Foreground="Gray" 
                            HorizontalAlignment="Center" Cursor="Hand"/>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</Window>